{"version":3,"sources":["App.js","index.js"],"names":["URL","origin","replace","console","log","App","useState","user","setUser","message","setMessage","messages","setMessages","WebSocket","ws","setWs","useEffect","onopen","onmessage","e","rmessage","JSON","parse","data","onclose","htmlFor","className","type","id","placeholder","value","onChange","target","action","onSubmit","preventDefault","usr","msg","send","stringify","submitMessage","map","ele","index","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8LAGMA,EAAMC,OAAOC,QAAQ,QAAS,MACpCC,QAAQC,IAAIJ,GACZ,IA0EeK,EA1EH,WACX,MAAwBC,mBAAS,UAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACE,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAgCJ,mBAAS,IAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KACA,EAAoBN,mBAAS,IAAIO,UAAUb,IAA3C,mBAAOc,EAAP,KAAWC,EAAX,KA4BA,OApBAC,qBAAU,WAYR,OAXAF,EAAGG,OAAS,WACVd,QAAQC,IAAI,wBAGdU,EAAGI,UAAY,SAACC,GAClB,IAAMC,EAAWC,KAAKC,MAAMH,EAAEI,MAC9BpB,QAAQC,IAAIiB,KAAKC,MAAMH,EAAEI,OACzBX,EAAY,CAACQ,GAAF,mBAAeT,KAC1BR,QAAQC,IAAIO,IAGH,WACLG,EAAGU,QAAU,WACXrB,QAAQC,IAAI,0BACZW,EAAM,IAAIF,UAAUb,QAGvB,CAACc,EAAGA,EAAGI,UAAWJ,EAAGG,OAAQH,EAAGU,QAASb,IAG1C,gCACI,wBAAOc,QAAQ,OAAf,kBAEE,uBACNC,UAAU,YACFC,KAAK,OACLC,GAAG,OACHC,YAAY,OACZC,MAAOvB,EACPwB,SAAU,SAAAZ,GAAC,OAAIX,EAAQW,EAAEa,OAAOF,aAGpC,uBACEG,OAAO,GACPC,SAAU,SAAAf,GACRA,EAAEgB,iBA1CU,SAACC,EAAKC,GAC3B,IAAM5B,EAAU,CAAEF,KAAM6B,EAAK3B,QAAS4B,GACtCvB,EAAGwB,KAAKjB,KAAKkB,UAAU9B,IACvBG,EAAY,CAACH,GAAF,mBAAcE,KAwChB6B,CAAcjC,EAAME,GACpBC,EAAW,KALf,UAQE,uBACEiB,KAAK,OACLE,YAAa,qBACbC,MAAOrB,EACPsB,SAAU,SAAAZ,GAAC,OAAIT,EAAWS,EAAEa,OAAOF,UAErC,uBAAOH,KAAK,SAASG,MAAO,YAG9B,6BACHnB,EAAS8B,KAAI,SAACC,EAAKC,GACnB,OAAO,+BACN,4BAAID,EAAInC,OADF,KACa,6BAAKmC,EAAIjC,YADbkC,YClEtBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f4c040c1.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./App.css\"\r\n\r\nconst URL = origin.replace(/^http/, 'ws');\r\nconsole.log(URL);\r\nconst App = () => {\r\n\tconst [user, setUser] = useState('Atharv');\r\n  \tconst [message, setMessage] = useState([]);\r\n  \tconst [messages, setMessages] = useState([]);\r\n  \tconst [ws, setWs] = useState(new WebSocket(URL));\r\n\r\n  \tconst submitMessage = (usr, msg) => {\r\n  \t\tconst message = { user: usr, message: msg };\r\n  \t\tws.send(JSON.stringify(message));\r\n  \t\tsetMessages([message, ...messages]);\r\n  \t}\r\n\r\n  \tuseEffect(() => {\r\n\t    ws.onopen = () => {\r\n\t      console.log('WebSocket Connected');\r\n\t    }\r\n\r\n\t    ws.onmessage = (e) => {\r\n\t\t\tconst rmessage = JSON.parse(e.data);\r\n\t\t\tconsole.log(JSON.parse(e.data));\r\n\t\t\tsetMessages([rmessage, ...messages]);\r\n\t\t\tconsole.log(messages);\r\n\t    }\r\n\r\n\t    return () => {\r\n\t      ws.onclose = () => {\r\n\t        console.log('WebSocket Disconnected');\r\n\t        setWs(new WebSocket(URL));\r\n\t      }\r\n\t    }\r\n  \t}, [ws,ws.onmessage, ws.onopen, ws.onclose, messages]);\r\n\r\n  \treturn (\r\n\t    <div>\r\n\t        <label htmlFor=\"user\">\r\n\t          Name:     \r\n\t          <input\r\n\t\t\t  className=\"nameInput\"\r\n\t            type=\"text\"\r\n\t            id=\"user\"\r\n\t            placeholder=\"User\"\r\n\t            value={user}\r\n\t            onChange={e => setUser(e.target.value)}\r\n\t          />\r\n\t        </label>\r\n\t        <form\r\n\t          action=\"\"\r\n\t          onSubmit={e => {\r\n\t            e.preventDefault();\r\n\t            submitMessage(user, message);\r\n\t            setMessage([]);\r\n\t          }}\r\n\t        >\r\n\t          <input\r\n\t            type=\"text\"\r\n\t            placeholder={'Type a message ...'}\r\n\t            value={message}\r\n\t            onChange={e => setMessage(e.target.value)}\r\n\t          />\r\n\t          <input type=\"submit\" value={'Send'} />\r\n\t        </form>\r\n\r\n\t        <ul>\r\n\t\t\t\t\t{messages.map((ele, index) => {\r\n\t\t\t\t\t\treturn <li key={index}>\r\n\t\t\t\t\t\t\t<b>{ele.user}</b>: <em>{ele.message}</em>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t})}\r\n\t        </ul>\r\n\r\n\t    </div>\r\n  \t)\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}