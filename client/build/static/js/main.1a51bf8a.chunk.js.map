{"version":3,"sources":["App.js","index.js"],"names":["URL","App","useState","user","setUser","message","setMessage","messages","setMessages","WebSocket","ws","setWs","useEffect","onopen","console","log","onmessage","e","rmessage","JSON","parse","data","onclose","htmlFor","className","type","id","placeholder","value","onChange","target","action","onSubmit","preventDefault","usr","msg","send","stringify","submitMessage","map","ele","index","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8LAGMA,EAAM,iDA4EGC,EA1EH,WACX,MAAwBC,mBAAS,UAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACE,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAgCJ,mBAAS,IAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KACA,EAAoBN,mBAAS,IAAIO,UAAUT,IAA3C,mBAAOU,EAAP,KAAWC,EAAX,KA4BA,OApBAC,qBAAU,WAYR,OAXAF,EAAGG,OAAS,WACVC,QAAQC,IAAI,wBAGdL,EAAGM,UAAY,SAACC,GAClB,IAAMC,EAAWC,KAAKC,MAAMH,EAAEI,MAC9BP,QAAQC,IAAII,KAAKC,MAAMH,EAAEI,OACzBb,EAAY,CAACU,GAAF,mBAAeX,KAC1BO,QAAQC,IAAIR,IAGH,WACLG,EAAGY,QAAU,WACXR,QAAQC,IAAI,0BACZJ,EAAM,IAAIF,UAAUT,QAGvB,CAACU,EAAGA,EAAGM,UAAWN,EAAGG,OAAQH,EAAGY,QAASf,IAG1C,gCACI,wBAAOgB,QAAQ,OAAf,kBAEE,uBACNC,UAAU,YACFC,KAAK,OACLC,GAAG,OACHC,YAAY,OACZC,MAAOzB,EACP0B,SAAU,SAAAZ,GAAC,OAAIb,EAAQa,EAAEa,OAAOF,aAGpC,uBACEG,OAAO,GACPC,SAAU,SAAAf,GACRA,EAAEgB,iBA1CU,SAACC,EAAKC,GAC3B,IAAM9B,EAAU,CAAEF,KAAM+B,EAAK7B,QAAS8B,GACtCzB,EAAG0B,KAAKjB,KAAKkB,UAAUhC,IACvBG,EAAY,CAACH,GAAF,mBAAcE,KAwChB+B,CAAcnC,EAAME,GACpBC,EAAW,KALf,UAQE,uBACEmB,KAAK,OACLE,YAAa,qBACbC,MAAOvB,EACPwB,SAAU,SAAAZ,GAAC,OAAIX,EAAWW,EAAEa,OAAOF,UAErC,uBAAOH,KAAK,SAASG,MAAO,YAG9B,6BACHrB,EAASgC,KAAI,SAACC,EAAKC,GACnB,OAAO,+BACN,4BAAID,EAAIrC,OADF,KACa,6BAAKqC,EAAInC,YADboC,YClEtBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.1a51bf8a.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\"\n\nconst URL = 'ws://simple-chat-app-atharv.herokuapp.com/8080';\n\nconst App = () => {\n\tconst [user, setUser] = useState('Atharv');\n  \tconst [message, setMessage] = useState([]);\n  \tconst [messages, setMessages] = useState([]);\n  \tconst [ws, setWs] = useState(new WebSocket(URL));\n\n  \tconst submitMessage = (usr, msg) => {\n  \t\tconst message = { user: usr, message: msg };\n  \t\tws.send(JSON.stringify(message));\n  \t\tsetMessages([message, ...messages]);\n  \t}\n\n  \tuseEffect(() => {\n\t    ws.onopen = () => {\n\t      console.log('WebSocket Connected');\n\t    }\n\n\t    ws.onmessage = (e) => {\n\t\t\tconst rmessage = JSON.parse(e.data);\n\t\t\tconsole.log(JSON.parse(e.data));\n\t\t\tsetMessages([rmessage, ...messages]);\n\t\t\tconsole.log(messages);\n\t    }\n\n\t    return () => {\n\t      ws.onclose = () => {\n\t        console.log('WebSocket Disconnected');\n\t        setWs(new WebSocket(URL));\n\t      }\n\t    }\n  \t}, [ws,ws.onmessage, ws.onopen, ws.onclose, messages]);\n\n  \treturn (\n\t    <div>\n\t        <label htmlFor=\"user\">\n\t          Name:     \n\t          <input\n\t\t\t  className=\"nameInput\"\n\t            type=\"text\"\n\t            id=\"user\"\n\t            placeholder=\"User\"\n\t            value={user}\n\t            onChange={e => setUser(e.target.value)}\n\t          />\n\t        </label>\n\t        <form\n\t          action=\"\"\n\t          onSubmit={e => {\n\t            e.preventDefault();\n\t            submitMessage(user, message);\n\t            setMessage([]);\n\t          }}\n\t        >\n\t          <input\n\t            type=\"text\"\n\t            placeholder={'Type a message ...'}\n\t            value={message}\n\t            onChange={e => setMessage(e.target.value)}\n\t          />\n\t          <input type=\"submit\" value={'Send'} />\n\t        </form>\n\n\t        <ul>\n\t\t\t\t\t{messages.map((ele, index) => {\n\t\t\t\t\t\treturn <li key={index}>\n\t\t\t\t\t\t\t<b>{ele.user}</b>: <em>{ele.message}</em>\n\t\t\t\t\t\t</li>\n\t\t\t\t})}\n\t        </ul>\n\n\t    </div>\n  \t)\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}